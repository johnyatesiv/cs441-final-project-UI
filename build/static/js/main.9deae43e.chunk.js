(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{5371:function(e,t,n){e.exports=n(5606)},5376:function(e,t,n){},5378:function(e,t,n){},5380:function(e,t,n){},5382:function(e,t,n){},5384:function(e,t,n){},5515:function(e,t,n){},5519:function(e,t){},5521:function(e,t){},5556:function(e,t){},5557:function(e,t){},5603:function(e,t,n){},5606:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),s=n(29),i=n.n(s),o=(n(5376),n(9)),c=n(10),u=n(12),l=n(11),m=n(13),h=(n(5378),n(28)),p=n.n(h),d=n(43),f=n.n(d),O=n(30),v=(n(5380),n(5382),n(33)),b=n.n(v),E=n(65),y=n.n(E),k=n(36),j=n.n(k),w=n(37),C=n.n(w),g=(n(5384),n(64)),V=n.n(g),I=n(63),M=n.n(I),S=function(e){function t(e){var n;return Object(o.a)(this,t),(n=Object(u.a)(this,Object(l.a)(t).call(this,e))).state={},n}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement(V.a,{className:"ActiveMenuPopover",anchorOrigin:{vertical:"top",horizontal:"left"},transformOrigin:{vertical:"top",horizontal:"left"},open:this.props.open},r.a.createElement(O.a,{className:"CloseButton",onClick:this.props.close}),r.a.createElement("br",null),r.a.createElement("div",{className:"ActiveMenu"},r.a.createElement(p.a,{container:!0,direction:"row",justify:"left",alignItems:"left",spacing:16},r.a.createElement("h1",null,"Menu"),r.a.createElement("br",null),this.props.menu.map(function(e){return r.a.createElement(N,{key:e.id,item:e})}))))}}]),t}(r.a.Component),N=function(e){function t(e){var n;return Object(o.a)(this,t),(n=Object(u.a)(this,Object(l.a)(t).call(this,e))).state={},n}return Object(m.a)(t,e),Object(c.a)(t,[{key:"onClick",value:function(){}},{key:"render",value:function(){return r.a.createElement(b.a,{className:"MenuItemCard",onClick:this.onClick.bind(this)},r.a.createElement(j.a,{className:"MenuItemCardContent"},r.a.createElement(O.b,null),r.a.createElement("br",null),this.props.item.name,r.a.createElement("br",null),"$",this.props.item.price,r.a.createElement(C.a,null,r.a.createElement(M.a,null,"Order"))))}}]),t}(r.a.Component),R=S,A=function(e){function t(e){var n;return Object(o.a)(this,t),(n=Object(u.a)(this,Object(l.a)(t).call(this,e))).state={displayMenu:!1,activeMenu:[]},n}return Object(m.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){}},{key:"openMenu",value:function(){this.setState({displayMenu:!0,activeMenu:this.state.menus[arguments[0]]})}},{key:"closeMenu",value:function(){this.setState({displayMenu:!1})}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"UserRestaurantViewContainer"},r.a.createElement("h1",null,"Restaurants near you"),r.a.createElement(p.a,{className:"UserRestaurantViewGrid",container:!0,direction:"row",justify:"center",alignItems:"center",spacing:40},this.props.restaurants.map(function(t){return r.a.createElement(F,{key:t.id,restaurant:t,openParentMenu:e.openMenu.bind(e,t.id)})}),r.a.createElement(R,{open:this.state.displayMenu,menu:this.state.activeMenu,close:this.closeMenu.bind(this)})))}}]),t}(r.a.Component),F=function(e){function t(e){var n;return Object(o.a)(this,t),(n=Object(u.a)(this,Object(l.a)(t).call(this))).props=e,n.state={},n}return Object(m.a)(t,e),Object(c.a)(t,[{key:"onClick",value:function(){this.props.openParentMenu()}},{key:"render",value:function(){return r.a.createElement(b.a,{className:"RestaurantCard",onClick:this.onClick.bind(this)},r.a.createElement(j.a,{className:"RestaurantCardContent"},this.props.restaurant.name,r.a.createElement("br",null),r.a.createElement(y.a,{className:"RestaurantCardMedia",component:"img",image:this.props.restaurant.image}),r.a.createElement("br",null),this.props.restaurant.description),r.a.createElement(C.a,null))}}]),t}(r.a.Component),P=A,D=(n(5515),n(155)),T=n.n(D),q=function(e){function t(e){var n;return Object(o.a)(this,t),(n=Object(u.a)(this,Object(l.a)(t).call(this,e))).state={},console.log("orders:"),console.log(e.orders),n}return Object(m.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){}},{key:"getOrderRestaurant",value:function(e){return this.props.restaurants[e.restaurantId]}},{key:"getOrderItems",value:function(e){this.getOrderRestaurant(e);return[]}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"UserOrderViewContainer"},r.a.createElement("h1",null,"Your Orders"),r.a.createElement(p.a,{className:"UserOrderViewGrid",container:!0,direction:"row",justify:"center",alignItems:"left",spacing:40},this.props.orders.map(function(t){return r.a.createElement(G,{key:t.id,order:t,restaurant:e.getOrderRestaurant(t),items:e.getOrderItems(t)})})))}}]),t}(r.a.Component),G=function(e){function t(e){var n;return Object(o.a)(this,t),(n=Object(u.a)(this,Object(l.a)(t).call(this,e))).state={},n}return Object(m.a)(t,e),Object(c.a)(t,[{key:"openItemSummary",value:function(e){}},{key:"hashOrderId",value:function(e){return T.a.createHash("md5").update(e.toString()).digest("hex").substr(0,8)}},{key:"render",value:function(){return r.a.createElement(b.a,{className:"OrderCard",onClick:this.openItemSummary(this.props.order)},r.a.createElement(j.a,{className:"OrderCardContent"},"Order ",this.hashOrderId(this.props.order.id),r.a.createElement("br",null),r.a.createElement(y.a,{className:"OrderCardMedia",component:"img"}),r.a.createElement("br",null),"From ",this.props.restaurant.name,this.props.order.total,r.a.createElement("br",null),this.props.order.state),r.a.createElement(C.a,null))}}]),t}(r.a.Component),U=q,x=function(e){function t(e){var n;return Object(o.a)(this,t),(n=Object(u.a)(this,Object(l.a)(t).call(this,e))).state={},n}return Object(m.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){}},{key:"handleError",value:function(e){this.setState({error:!0})}},{key:"processUser",value:function(e){e.error?this.handleError(e.error):this.setState({user:e})}},{key:"getActiveView",value:function(){return this.props.restaurantViewOpen?this.RestaurantView():this.props.orderViewOpen?this.OrderView():null}},{key:"OrderView",value:function(){return r.a.createElement(U,{user:this.state.user,orders:this.props.orders,restaurants:this.props.restaurants,menus:this.props.menus,open:this.props.orderViewOpen,close:this.props.closeOrderView})}},{key:"RestaurantView",value:function(){return r.a.createElement(P,{user:this.state.user,open:this.props.restaurantViewOpen,close:this.props.closeRestaurantView,restaurants:this.props.restaurants,menus:this.props.menus})}},{key:"render",value:function(){return this.getActiveView()}}]),t}(r.a.Component),$=(n(5603),function(e){function t(e){return Object(o.a)(this,t),Object(u.a)(this,Object(l.a)(t).call(this,e))}return Object(m.a)(t,e),Object(c.a)(t,[{key:"calculateTotal",value:function(){var e=0;for(var t in this.props.items)e+=t.price*t.quantity;return e}},{key:"removeItem",value:function(e){this.props.removeItemFromCart(e)}},{key:"render",value:function(){return r.a.createElement(V.a,{className:"Cart",open:this.props.open},r.a.createElement(f.a,{onClick:this.props.close},r.a.createElement(O.a,null)),r.a.createElement("div",{className:"CartContent"},r.a.createElement(p.a,{className:"CartGrid",container:!0,direction:"column",justify:"left",alignItems:"left",spacing:16},this.props.items.map(function(e){return r.a.createElement(B,{key:e.id,item:e})}),r.a.createElement("br",null),r.a.createElement("b",null,"Total:")," $",this.calculateTotal())))}}]),t}(r.a.Component)),B=function(e){function t(e){return Object(o.a)(this,t),Object(u.a)(this,Object(l.a)(t).call(this,e))}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement(b.a,{className:"CartItem"},this.props.item.name,"  x ",this.props.item.quantity,r.a.createElement("br",null),"$",this.props.item.price*this.props.item.quantity)}}]),t}(r.a.Component),W=$,z=function(e){function t(e){var n;return Object(o.a)(this,t),(n=Object(u.a)(this,Object(l.a)(t).call(this,e))).state={restaurantViewOpen:!1,orderViewOpen:!1,cart:[],restaurants:[],menu:[],orders:[]},n}return Object(m.a)(t,e),Object(c.a)(t,[{key:"componentWillMount",value:function(){this.getRestaurants(),this.getMenus(),this.getOrders()}},{key:"mutateState",value:function(e,t){var n={};n[e]=t,this.setState(n)}},{key:"openCart",value:function(){this.setState({cartOpen:!0})}},{key:"closeCart",value:function(){this.setState({cartOpen:!1})}},{key:"openRestaurantView",value:function(){this.closeOrderView(),this.setState({restaurantViewOpen:!0})}},{key:"closeRestaurantView",value:function(){this.setState({restaurantViewOpen:!1})}},{key:"openOrderView",value:function(){this.closeRestaurantView(),this.setState({orderViewOpen:!0})}},{key:"closeOrderView",value:function(){this.setState({orderViewOpen:!1})}},{key:"noViewsOpen",value:function(){return!this.state.restaurantViewOpen&&!this.state.orderViewOpen}},{key:"addItemToCart",value:function(e){var t=this.state.cart;t[e.id]?t[e.id].quantity++:(t[e.id]=e,t[e.id].quantity=1),this.setState({cart:t})}},{key:"removeItemFromCart",value:function(e){var t=this.state.cart;delete t[e],this.setState({cart:t})}},{key:"getRestaurants",value:function(){var e=this;fetch("https://cs441-api.herokuapp.com/restaurants").then(function(e){return e.json()}).then(function(t){console.log("Fetched restaurants from API."),e.setState({restaurants:t}),console.log("Got restaurants:"),console.log(e.state.restaurants)}).catch(function(t){e.setState({error:!0,errorDetails:t})})}},{key:"getMenus",value:function(){var e=this;fetch("https://cs441-api.herokuapp.com/menus").then(function(e){return e.json()}).then(function(t){console.log("Fetched menus from API."),e.setState({menus:t})}).catch(function(t){e.setState({error:!0,errorDetails:t})})}},{key:"getOrders",value:function(){var e=this;fetch("https://cs441-api.herokuapp.com/orders").then(function(e){return e.json()}).then(function(t){console.log("Fetched orders from API."),e.setState({orders:t})}).catch(function(t){e.setState({error:!0,errorDetails:t})})}},{key:"render",value:function(){return r.a.createElement("div",{className:"App"},r.a.createElement(J,{openRestaurantView:this.openRestaurantView.bind(this),openOrderView:this.openOrderView.bind(this),openCart:this.openCart.bind(this)}),r.a.createElement(p.a,{container:!0,className:"AppGrid"},r.a.createElement("br",null),this.noViewsOpen()?r.a.createElement("div",{style:{width:"100vw",height:"100vh",textAlign:"center"}},r.a.createElement("img",{style:{width:"50vw",height:"50vh",marginLeft:"10vw"},src:"/foodapp_logo.png",alt:"Foodapp Logo"})):"",r.a.createElement(x,{restaurants:this.state.restaurants,menus:this.state.menus,orders:this.state.orders,mutateParentState:this.mutateState.bind(this),restaurantViewOpen:this.state.restaurantViewOpen,orderViewOpen:this.state.orderViewOpen,addItemToCart:this.addItemToCart.bind(this),removeItemFromCart:this.removeItemFromCart.bind(this)})),r.a.createElement(W,{open:this.state.cartOpen,close:this.closeCart.bind(this),items:this.state.cart,removeItemFromCart:this.removeItemFromCart.bind(this)}))}}]),t}(r.a.Component),J=function(e){function t(e){var n;return Object(o.a)(this,t),(n=Object(u.a)(this,Object(l.a)(t).call(this,e))).state={},n}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement("nav",{className:"AppNav"},r.a.createElement(f.a,{onClick:this.props.openRestaurantView.bind(this)},r.a.createElement(O.c,null)),r.a.createElement(f.a,{onClick:this.props.openOrderView.bind(this)},r.a.createElement(O.b,null)),r.a.createElement(f.a,{onClick:this.props.openCart.bind(this)},r.a.createElement(O.d,null)))}}]),t}(r.a.Component),L=z;Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(L,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[5371,2,1]]]);
//# sourceMappingURL=main.9deae43e.chunk.js.map